(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[453],{1177:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(2);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function u(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=Object(r.forwardRef)((function(t,e){var n=t.className,r=t.color,i=t.margin,o=t.marginTop,s=t.marginRight,d=t.marginBottom,p=t.marginLeft,m=t.rotate,v=t.size,b=t.style,f=t.title,g=t.theme,h=t.onClick,y=u(t,["className","color","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","size","style","title","theme","onClick"]),O={dark:"#CBD4E1",light:"#2E3137"};return a.a.createElement("svg",c({ref:e,title:f||void 0,className:n?"unf-icon ".concat(n):"unf-icon",viewBox:"0 0 24 24",width:v||24,height:v||24,fill:g&&O[String(g)]?O[String(g)]:r||"var(--color-icon-enabled, #2E3137)",style:l({display:"inline-block",margin:i?"".concat(i):void 0,marginTop:o?"".concat(o):void 0,marginRight:s?"".concat(s):void 0,marginBottom:d?"".concat(d):void 0,marginLeft:p?"".concat(p):void 0,verticalAlign:"middle",transform:m?"rotate(".concat(m,"deg)"):void 0},b),onClick:h},y),a.a.createElement("path",{d:"M20 11.25h-7.25V4a.75.75 0 1 0-1.5 0v7.25H4a.75.75 0 1 0 0 1.5h7.25V20a.75.75 0 1 0 1.5 0v-7.25H20a.75.75 0 1 0 0-1.5Z"}))}));s.displayName="Add",s.propTypes={className:i.string,color:i.string,margin:i.string,marginTop:i.string,marginRight:i.string,marginBottom:i.string,marginLeft:i.string,rotate:i.number,size:i.number,title:i.string,theme:i.string,onClick:i.func},s.defaultProps={size:24},e.a=s},1290:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(0),a=function(t){var e=t.timeout,n=t.threshold,a=t.batchKey,i=t.onHitCallback,o=t.onBatchCallback,c=r.useRef(new Map),l=r.useRef(new Set),u=r.useRef(null),s=e||10,d=n||1,p=a||"",m=r.useCallback((function(){return Array.from(l.current)}),[]),v=r.useCallback((function(){return new Map(c.current)}),[]),b=r.useCallback((function(t,e){c.current.set(t,e),l.current.add(e)}),[]),f=r.useCallback((function(){u.current&&(clearTimeout(u.current),u.current=null),0!==l.current.size&&"function"==typeof o&&o(Array.from(l.current)),l.current.clear()}),[o]),g=r.useCallback((function(){var t=setTimeout((function(){0!==l.current.size&&f()}),s);u.current=t}),[s,f]),h=r.useCallback((function(){f(),c.current.clear(),l.current.clear()}),[f]),y=r.useCallback((function(t){var e=t[p]||Date.now();if(!c.current.has(e)){var n=t;"function"==typeof i&&(n=i(t)),b(e,n),u.current||g(),l.current.size>=d&&f()}}),[p,d,i,b,g,f]);return r.useEffect((function(){var t=function(){h()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t),h()}}),[h]),{addQueue:y,getQueue:m,getBatch:v}};e.default=a},1393:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(1177),o=n(2);function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){c(t,e,n[e])}))}return t}function s(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var d=Object(r.forwardRef)((function(t,e){var n=t.className,r=t.color,i=t.margin,o=t.marginTop,c=t.marginRight,d=t.marginBottom,p=t.marginLeft,m=t.rotate,v=t.size,b=t.style,f=t.title,g=t.theme,h=t.onClick,y=s(t,["className","color","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","size","style","title","theme","onClick"]),O={dark:"#CBD4E1",light:"#2E3137"};return a.a.createElement("svg",l({ref:e,title:f||void 0,className:n?"unf-icon ".concat(n):"unf-icon",viewBox:"0 0 24 24",width:v||24,height:v||24,fill:g&&O[String(g)]?O[String(g)]:r||"var(--color-icon-enabled, #2E3137)",style:u({display:"inline-block",margin:i?"".concat(i):void 0,marginTop:o?"".concat(o):void 0,marginRight:c?"".concat(c):void 0,marginBottom:d?"".concat(d):void 0,marginLeft:p?"".concat(p):void 0,verticalAlign:"middle",transform:m?"rotate(".concat(m,"deg)"):void 0},b),onClick:h},y),a.a.createElement("path",{d:"M20 12.75H4a.75.75 0 1 1 0-1.5h16a.75.75 0 1 1 0 1.5Z"}))}));d.displayName="Remove",d.propTypes={className:o.string,color:o.string,margin:o.string,marginTop:o.string,marginRight:o.string,marginBottom:o.string,marginLeft:o.string,rotate:o.number,size:o.number,title:o.string,theme:o.string,onClick:o.func},d.defaultProps={size:24};var p=d,m=n(1),v=n(85),b=n(3),f=n(38),g=n(7),h=Object(b.css)("background-color:transparent;border:none;border-radius:4px;cursor:pointer;flex-shrink:0;height:24px;padding:0;width:24px;-webkit-appearance:none;&:hover{background-color:",m.NN50,";&:disabled{background-color:transparent;}}&:disabled{cursor:not-allowed;}"),y=function(t){var e=t.disabled,n=t.isFocus,r=t.width,a=t.maxValueDigit;return Object(b.css)("label:unf-quantity-editor;align-items:center;border:solid 1px ",e?m.NN200:n?m.GN500:m.NN300,";border-radius:8px;display:inline-flex;padding:3px;transition:border ",f.b," ",f.i,";min-width:70px;width:",function(t,e){switch(!0){case!!t:return t;case e&&e<=3:return"70px";default:return"".concat(102+10*((e||3)-3),"px")}}(r,a),";")},O=Object(b.css)("label:unf-quantity-editor__input;background-color:transparent;border:none;color:",m.NN950,";font-family:inherit;font-size:",g.fontSizeLv3,";line-height:",g.lineHeightLv3,";outline:none;text-align:center;flex-shrink:2;flex-grow:2;width:100%;:disabled{color:",m.NN400,";}"),k=["dataTest","disabled","lang","max","min","readonly","spinner","value","width","onChange","onClickMin","onClickPlus"];function x(){return x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x.apply(this,arguments)}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var C={plus:{en:"Add",id:"Tambah"},minus:{en:"Reduce",id:"Kurangi"}},I=Object(r.forwardRef)((function(t,e){var n=t.dataTest,o=void 0===n?{}:n,c=t.disabled,l=t.lang,u=void 0===l?"id":l,s=t.max,d=void 0===s?1e3:s,b=t.min,f=void 0===b?1:b,g=t.readonly,j=t.spinner,I=void 0===j?1:j,w=t.value,E=t.width,D=void 0===E?"102px":E,A=t.onChange,P=t.onClickMin,_=t.onClickPlus,B=S(t,k),R=N(Object(r.useState)(!1),2),T=R[0],L=R[1],$=Object(r.useRef)(null);Object(r.useEffect)((function(){var t;T&&(null===(t=$.current)||void 0===t||t.focus())}),[T]);var V=function(t){return"number"==typeof t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"string"==typeof t?t.replace(/\./g,""):t},M=function(t){var e=V(t.target.value)||"",n=parseInt(e,10);(isNaN(n)||void 0===n)&&(n=0);var r=V(n);"function"==typeof A&&A(r,t)},H=function(){var t=w;return"string"==typeof w&&(t=V(w)),!!((t||1)<=f||c)},z=Object(r.useCallback)((function(t){if(!H()){var e=V(w||""),n=parseInt(e,10)-I;n<f&&(n=f);var r=V(n);"function"==typeof A&&A(r,t),"function"==typeof P&&P(t)}}),[H,f,A,I,w]),U=Object(r.useCallback)((function(){var t=w;return"string"==typeof w&&(t=V(w)),!!((t||1)>=d||c)}),[c,d,w]),F=Object(r.useCallback)((function(t){if(!U()){var e=V(w||""),n=parseInt(e,10)+I;n>d&&(n=d);var r=V(n);"function"==typeof A&&A(r,t),"function"==typeof _&&_(t)}}),[U,d,A,I,w]),Q=function(t){return t?m.NN300:m.GN500};return Object(v.a)({ArrowUp:F,ArrowDown:z,Home:function(t){t.preventDefault(),"function"==typeof A&&A(f)},End:function(t){t.preventDefault(),"function"==typeof A&&A(d)}},T),a.a.createElement("div",{ref:e,className:y({disabled:c,isFocus:T,width:D,maxValueDigit:"".concat(d).length})},a.a.createElement("button",{"aria-label":"".concat(C.minus[String(u)]," ").concat(I),className:h,"data-testid":null==o?void 0:o.minusButton,disabled:H(),tabIndex:-1,onClick:z},a.a.createElement(p,{height:"16px",width:"16px",color:Q(H())})),a.a.createElement("input",x({},B,{"aria-valuenow":w?Number(w):void 0,"aria-valuemin":f,"aria-valuemax":d,className:O,"data-unify":"QuantityEditor",disabled:c,readOnly:g,ref:$,role:"spinbutton",type:"text",value:w,onBlur:function(t){var e=V(t.target.value)||"",n=parseInt(e,10);n>=d?n=d:(n<=f||isNaN(n)||void 0===n)&&(n=f);var r=V(n);"function"==typeof A&&A(r,t),L(!1)},onFocus:function(){L(!0)},onChange:function(t){return M(t)}})),a.a.createElement("button",{"aria-label":"".concat(C.plus[String(u)]," ").concat(I),className:h,"data-testid":null==o?void 0:o.plusButton,disabled:U(),tabIndex:-1,onClick:F},a.a.createElement(i.a,{height:"16px",width:"16px",color:Q(U())})))}));I.displayName="QuantityEditor";e.a=I},2048:function(t,e){t.exports={fontType:{stackHeading:"Open Sauce One",desktop:"Open Sauce One",lite:'"Open Sauce One", -apple-system, BlinkMacSystemFont, Roboto, sans-serif',ios:"SF Pro Text",android:"Roboto"},fontSize:{lv1:"10px",lv2:"12px",lv3:"14px",lv4:"16px",lv5:"18px",lv6:"20px",lv7:"24px",lv8:"28px",lv9:"32px",lv10:"38px"},fontSizeRAW:{lv1:10,lv2:12,lv3:14,lv4:16,lv5:18,lv6:20,lv7:24,lv8:28,lv9:32,lv10:38},fontWeight:{regular:400,bold:700,extraBold:800},lineHeight:{lv1:"14px",lv2:"16px",lv3:"18px",lv4:"20px",lv5:"22px",lv6:"24px",lv7:"26px",lv8:"28px",lv9:"30px",lv10:"34px",lv11:"40px",lv12:"46px"},lineHeightRAW:{lv1:14,lv2:16,lv3:18,lv4:20,lv5:22,lv6:24,lv7:26,lv8:28,lv9:30,lv10:34,lv11:40,lv12:46},tracking:{tightest:"-0.4px",tighter:"-0.2px",tight:"-0.1px",normal:"0px",wide:"0.1px",wider:"0.2px",widest:"0.3px"},trackingRAW:{tightest:-.4,tighter:-.2,tight:-.1,normal:0,wide:.1,wider:.2,widest:.3}}},2887:function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return d}));var r=n(0),a=n(1159),i=n(1290),o=n.n(i),c=n(10),l=n(1163);const u=t=>{const{productParentId:e,productId:n,shopId:i,userId:u,layoutTracker:s}=t,{enqueueTask:d}=Object(a.useIdleQueue)(),p=Object(r.useCallback)((t=>{d({task:()=>{c.default.pushObject(t)},delay:15e3})}),[d]),m=Object(r.useCallback)((t=>{const{productChildId:e,variantName:n,variantValue:r,position:a}=t;return{creative:null,id:`product_child_id:${e};`,name:`variant_name:${n}; variant_value:${r};`,position:a}}),[]),v=Object(r.useCallback)((t=>{const r={...Object(l.c)({...s,eventAction:"hover - choose product variant"}),event:"promoView",eventAction:"hover - choose product variant",eventCategory:"product detail page",eventLabel:`product_parent_id:${e};`,trackerId:"35369",businessUnit:"product detail page",currentSite:"tokopediamarketplace",ecommerce:{promoView:{promotions:t}},productId:n,shopId:i,userId:u};p(r)}),[p,s,e,n,i,u]);return o()({timeout:6e3,threshold:10,onHitCallback:m,onBatchCallback:v})},s=t=>{const{productParentId:e,productChildId:n,variantLevel:r,variantName:a,variantValue:i,layoutTracker:o,productId:u,shopId:s,userId:d}=t;c.default.pushObject({...Object(l.c)({...o,eventAction:"click - choose product variant"}),event:"clickPG",eventAction:"click - choose product variant",eventCategory:"product detail page",eventLabel:`product_parent_id:${e};product_child_id:${n};variant_level:${r};variant_name:${a};variant_value:${i};`,trackerId:"35370",businessUnit:"product detail page",currentSite:"tokopediamarketplace",productId:u,shopId:s,userId:d})},d=t=>{const{layoutTracker:e,productId:n,productChildId:r,variantLevel:a,variantName:i,variantValue:o,shopId:u,userId:s}=t;c.default.pushObject({...Object(l.c)({...e,eventAction:"click - choose product variant"}),event:"clickPG",eventAction:"click - thumbnail selected variant",eventCategory:"product detail page",eventLabel:`action:back to top;product_parent_id:${n};product_child_id:${r};variant_level:${a};variant_name:${i};variant_value:${o};`,trackerId:"37320",businessUnit:"product detail page",currentSite:"tokopediamarketplace",productId:n,shopId:u,userId:s})}},3e3:function(t,e,n){"use strict";e.a=(t="")=>t.includes("?")},3729:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(36),o=n(1393),c=n(1),l=n(104),u=n.n(l),s=n(675),d=n.n(s),p=n(1212),m=n.n(p),v=n(108),b=n(48),f=n(9),g=n(1125),h=n(1196),y=n(1338),O=n(3431),k=n(2887),x=n(333),N=n(3e3),j=n(3);const S=Object(j.css)("display:flex;justify-content:space-between;align-items:center;"),C=Object(j.css)("font-weight:bold;font-size:18px;line-height:26px;"),I=Object(j.css)("line-height:20px;text-align:right;"),w=Object(j.css)("margin:16px 0;");var E=({usedCampaign:t,quantity:e,productWholesale:n})=>{const o=e>0,l=t.isActive&&!t.hideGimmick&&o,u=Object(r.useMemo)((()=>{var r;if(n.length<1)return t.priceUnformatted*e;n.sort(((t,e)=>t.minQty<e.minQty?-1:t.minQty>e.minQty?1:0));const a=n.filter((t=>e>=t.minQty)),i=a[a.length-1];return i?((null===(r=i.price)||void 0===r?void 0:r.value)||t.priceUnformatted)*e:t.priceUnformatted*e}),[n,e,t.priceUnformatted]);let s=0;s=n.length>0?u:t.priceUnformatted*e;const d=Object(N.a)(t.priceFmt)?t.priceFmt:`Rp${m()(String(s))}`;return a.a.createElement("div",{className:w},l&&a.a.createElement(i.default,{color:c.NN400,margin:"0 0 2px",body:"display-3",className:I},a.a.createElement("del",{"data-testid":"pdpSlashPrice"},a.a.createElement("span",{className:x.b},"harga sebelum diskon"),t.slashPriceFmt||`Rp${m()(String(t.originalPriceUnformatted*e))}`)),a.a.createElement("div",{className:S},a.a.createElement(i.default,{margin:"0",body:"display-2"},"Subtotal"),a.a.createElement(i.default,{margin:"0","data-testid":"pdpProductPrice",className:C,main:!0},o?d:"-")))};const D=t=>({en:`This product's minimum quantity is ${t} item(s)`,id:`Minimal pembelian produk ini adalah ${t} barang`}),A=t=>({en:`Maximum quantity to purchase this item is ${t}`,id:`Maks. pembelian barang ini ${t} item, kurangi pembelianmu, ya!`});var P=n(2048),_=n(31);const B=Object(j.css)("margin:12px 0 20px;font-weight:800;font-size:16px;line-height:22px;color:",c.NN950,";text-align:left;"),R=(c.GN500,Object(j.css)("p{&:first-of-type{margin-top:8px;}&:last-of-type{margin-bottom:8px;}}")),T=Object(j.css)("display:flex;align-items:center;input[type='text']{}p{font-size:1rem;line-height:20px;margin:0;margin-left:",_.spacingLv3,";color:",c.NN950,";}"),L=(c.NN100,c.NN0,c.NN950,P.lineHeight.lvl3,P.fontSize.lvl3,c.NN600,c.GN500,Object(j.css)("margin-bottom:12px;display:flex;align-items:center;border:none;border-bottom:1px solid ",c.NN50,";padding:0 0 12px;cursor:pointer;background:transparent;text-align:left;width:100%;> img{width:48px;height:48px;object-fit:contain;margin-right:8px;border-radius:4px;}")),$=Object(j.css)("display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;");var V=({currentLevel:t,variantOptionID:e,variantChildren:n})=>n.find((({optionID:n=[]})=>n[t]===Number(e)))||{};var M=(t,e)=>t.find((t=>t.productID===e))||{};var H=t=>{const{variantCombination:e,selectedChildrenStock:n,selectedChildrenIsBuyable:r,variantChildren:a,productID:i,productStatus:o,isAllVariantLevelSelected:c}=t,{isBuyable:l,stock:u}=V({variantOptionID:e[0],currentLevel:0,variantChildren:a}).stock||{},{stock:s,isBuyable:d}=M(a,i).stock||{},p=c?!r&&n>0:!l&&Number(u)>0;return e.length>0?p:!d&&Number(s)>0&&"WAREHOUSE"===o};var z=t=>{const{productID:e,productStatus:n,selectedChildrenStock:r,variantChildren:a,variantCombination:i,isAllVariantLevelSelected:o}=t,{stock:c}=V({variantOptionID:i[0],currentLevel:0,variantChildren:a}).stock||{},{stock:l}=M(a,e).stock||{},u=o?0===r:0===Number(c);return i.length>0?u:0===Number(l)&&"WAREHOUSE"===n};function U(t){const e=t.toString().length;if(4===e){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1.")}if(e>4&&e<7){const e=t.toString().replace(/\d{2}$/g,"");if("0"===e.slice(-1))return"".concat(e.slice(0,e.length-1)," rb");return"".concat(e," rb").replace(/(\d\s?rb$)/g,",$1")}if(e>6&&e<10){const e=t.toString().replace(/\d{5}$/g,"");if("0"===e.slice(-1))return"".concat(e.slice(0,e.length-1)," jt");return"".concat(e," jt").replace(/(\d\s?jt$)/g,",$1")}return e>9?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.toString()}function F(t){return t.replace(/\./g,"")}const Q=t=>{var e;const{isVariantInactive:n,isVariantOOS:o,usedCampaign:l}=t,{isActive:u}=l,{selectedVariantID:s,productTotalStockFmt:d,variantCombination:p,variantData:m,selectedChildren:v}=Object(h.b)(),{productStock:b,productCampaign:f,productHasVariant:y}=Object(g.b)(),O=n||o,{variantStock:k,variantCampaign:x}=Object(r.useMemo)((()=>({variantStock:v.stock||{},variantCampaign:v.campaignInfo||{}})),[v.campaignInfo,v.stock]),N=Object(r.useMemo)((()=>{const t=Number(v.productID?x.stock:f.stock),e=Number(v.productID?k.stock:b.value);return u?t:e}),[f.stock,b.value,v.productID,u,x.stock,k]),j=p[0],S=null===(e=m[0])||void 0===e?void 0:e.option.find((t=>t.productVariantOptionID===String(j))),C=(null==S?void 0:S.stock)||"0",I=s>0,w=p[0]>0,E=U(Number(w?C:F(d))),D=l.isActive?String(f.stock):b.value,A=I?U(N):E,P=y?A:D,_=Object(r.useMemo)((()=>n?a.a.createElement("b",{style:{color:c.RN500}},"Tidak Dijual"):Number(F(P))>=1&&Number(F(P))<=10?a.a.createElement("b",{style:{color:c.YN600}},"Sisa ",P):"NaN"===P||0===Number(F(P))?a.a.createElement("b",{style:{color:c.RN500}},"Habis"):a.a.createElement("b",null,P)),[n,P]);return a.a.createElement(i.default,{main:!0,body:2,margin:"12px 0","data-testid":"stock-label"},"Stok",0===p.length&&!O&&" Total",": ",_," ")};var W=Object(r.memo)(Q);const q=({usedCampaign:t,layoutTracker:e})=>{var n,l,s,p,N,j,S,C,I,w,P,_;const{productWholesale:V,productStock:M,productCampaign:U,productHasVariant:Q,productInfoBasic:q,getProductVariant:{parentID:G}}=Object(g.b)(),{selectedChildren:K,variantChildren:Z,variantCombination:Y,selectedVariantID:J,isParentSelected:X,variantData:tt}=Object(h.b)(),{userId:et}=Object(v.c)(),[,nt]=Object(y.b)(),{lang:rt}=Object(r.useContext)(b.a),at=null===(n=K.optionName)||void 0===n?void 0:n.join(", "),it=t.isActive?String(U.stock):M.value,ot=Q?Z.some((({stock:t={}})=>!t.isBuyable&&Number(t.stock)>0)):Number(F(it))>0,ct=Object(r.useMemo)((()=>{var t,e;return X&&0===Y.length?"WAREHOUSE"===q.status&&ot:H({productID:q.id,productStatus:q.status,selectedChildrenIsBuyable:Boolean(null===(t=K.stock)||void 0===t?void 0:t.isBuyable),selectedChildrenStock:Number(null===(e=K.stock)||void 0===e?void 0:e.stock),variantChildren:Z,variantCombination:Y,isAllVariantLevelSelected:J>0})}),[q.id,q.status,null===(l=K.stock)||void 0===l?void 0:l.isBuyable,null===(s=K.stock)||void 0===s?void 0:s.stock,Z,Y,J,X,ot]),lt=Object(r.useMemo)((()=>{var t;return X&&0===Y.length?"WAREHOUSE"===q.status&&0===Number(F(it)):z({productID:q.id,productStatus:q.status,selectedChildrenStock:Number(null===(t=K.stock)||void 0===t?void 0:t.stock),variantChildren:Z,variantCombination:Y,isAllVariantLevelSelected:J>0})}),[q.id,q.status,null===(p=K.stock)||void 0===p?void 0:p.stock,Z,Y,J,X,it]),ut=ct||lt,st=ut?0:Number((null===(N=K.campaignInfo)||void 0===N?void 0:N.minOrder)||(null===(j=K.stock)||void 0===j?void 0:j.minimumOrder)||(()=>{if(Q){var t,e;const n=Z.find((t=>Number(t.productID)===Number(q.id)));return(null==n||null===(t=n.campaignInfo)||void 0===t?void 0:t.minOrder)||(null==n||null===(e=n.stock)||void 0===e?void 0:e.minimumOrder)||0}return 0})()||q.minOrder||1),[dt,pt]=Object(r.useState)((()=>ut?0:st)),mt=d()(dt,250);Object(r.useEffect)((()=>{nt({type:"SET_USER_CART_INFO",payload:{productCount:Number(mt)}})}),[nt,mt]),Object(r.useEffect)((()=>{K.productID&&(pt(ut?0:st),nt({type:"SET_USER_CART_INFO",payload:{productCount:Number(st)}}))}),[nt,st,ut,K.productID]);const vt=Object(r.useMemo)((()=>Object(O.a)({productStock:M,productCampaign:U,productInfo:q,selectedVariant:K})),[U,q,M,K]),bt=(null===(S=K.stock)||void 0===S?void 0:S.maximumOrder)||0,ft=(null===(C=K.campaignInfo)||void 0===C?void 0:C.stock)||0,gt=q.maxOrder||0,ht=U.stock,yt=K.productID?ft:ht,Ot=Number(K.productID?bt:gt),kt=(t,e)=>a.a.createElement(i.default,{body:3,margin:"8px 0 0",color:c.RN600},t(m()(String(e)))[rt]),xt=null===(I=V[0])||void 0===I?void 0:I.minQty,Nt=null===(w=tt[0])||void 0===w||null===(P=w.option.find((t=>{var e;return t.productVariantOptionID===String(null===(e=K.optionID)||void 0===e?void 0:e[0])})))||void 0===P||null===(_=P.picture)||void 0===_?void 0:_.urlThumbnail;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h6",{className:B},"Atur jumlah dan catatan"),K.productID&&a.a.createElement("button",{onClick:()=>{var t,n;window.scrollTo({behavior:"smooth",top:0,left:0}),Object(k.a)({layoutTracker:e,productChildId:K.productID,productId:G,shopId:q.shopID,userId:String(et),variantLevel:null===(t=K.optionID)||void 0===t||null===(n=t.map(((t,e)=>e+1)))||void 0===n?void 0:n.join(","),variantValue:at,variantName:tt.map((t=>t.name)).join(",")})},type:"button",className:L,"aria-live":"assertive","aria-atomic":"true"},Nt&&a.a.createElement("img",{src:Nt,alt:"",role:"presentation"}),a.a.createElement(i.default,{className:$,body:"display-2",margin:"0",main:!0},a.a.createElement("span",{className:x.b},"Terpilih: "),at)),a.a.createElement("div",{className:T,"data-testid":"quantityOrder"},a.a.createElement(o.a,{id:"qty-editor-atc",disabled:ut,max:vt,min:st,spinner:1,value:m()(String(dt)),onChange:t=>{const e=F(t);let n=Number(e);n>f.O&&(n=f.O),pt(n)},onBlur:u.a}),a.a.createElement("label",{className:x.b,htmlFor:"qty-editor-atc"},"jumlah"),a.a.createElement(W,{isVariantInactive:ct,isVariantOOS:lt,usedCampaign:t})),dt<st&&kt(D,st),dt>vt&&vt>0&&kt(A,vt),!ut&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:R},st>1&&a.a.createElement(i.default,{margin:"4px 0",body:"display-3","data-testid":"lblPDPMinPurchase"},"Min. pembelian ",st," pcs"),t.isActive&&Ot>0&&Ot!==yt&&a.a.createElement(i.default,{margin:"4px 0",body:"display-3","data-testid":"lblPDPMaxPurchase"},"Max. pembelian ",Ot," pcs"),xt&&a.a.createElement(i.default,{margin:"4px 0",body:"display-3","data-testid":"lblPDPGrosir"},"Beli \u2265 ",xt,", lebih hemat!"))),a.a.createElement(E,{productWholesale:V,usedCampaign:t,quantity:dt}))};e.default=Object(r.memo)(q)}}]);